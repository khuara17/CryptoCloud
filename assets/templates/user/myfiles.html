{% extends 'user/userbase.html' %}


    {% block contents %}
            <!-- End banner Area -->
            <section class="generic-banner relative">
				<div class="container">
					<div class="row height align-items-center">
						<div class="col-lg-10">
							<div class="generic-banner-content">

<!--                                {% if form.error %}-->
<!--                                {% for field in form %}-->
<!--                                    {% for error in field.errors %}-->
<!--                                        <div class="alert alert-danger">-->
<!--                                            <strong>{{ error|escape }}</strong>-->
<!--                                        </div>-->
<!--                                    {% endfor %}-->
<!--                                {% endfor %}-->
<!--                                {% for error in form.non_field_errors %}-->
<!--                                    <div class="alert alert-danger">-->
<!--                                        <strong>{{ error|escape }}</strong>-->
<!--                                    </div>-->
<!--                                {% endfor %}-->
<!--                            {% endif %}-->
								{% for message in messages %}
									<div class="alert alert-danger alert-dismissible">
										<button type="button" class="close" data-dismiss="alert">&times;</button>
										<strong>{{ message }}</strong>
									</div>
								{% endfor %}
                                <h2 class="text-white">My Files</h2>

                                {% if objects %}
								<table id ="dtBasicExample" class="table table-striped table-hover table-bordered table-dark">
                                      <thead class="bg-secondary">
                                        <tr>
                                            <th scope="col">Sr No.</th>
<!--                                            <th scope="col">Username</th>-->
                                            <th scope="col">bucketname</th>
                                            <th scope="col">Access Key</th>
                                            <th scope="col">File name</th>
                                            <th scope="col">Algorithm</th>
                                            <th scope="col">Files Size</th>
                                            <th scope="col">Encryption Time</th>
                                            <th scope="col">Decryption Time</th>
                                            <th scope="col">Date Uploaded</th>
                                            <th scope="col">Download</th>
                                            <th scope="col">Delete</th>

                                        </tr>
                                      </thead>
                                      <tbody id="myTable">
									{% for i in objects %}
									<tr>
                                        <th scope="row">{{forloop.counter}}</th>
<!--                                        <td>{{i.name}}</td>-->
                                        <td>{{i.bucketname}}</td>
                                        <td>{{i.accesskey}}</td>
                                        <td>{{i.filename}}</td>
                                        <td>{{i.algorithms}}</td>
                                        <td>{{i.filesize}}</td>
                                        <td>{{i.enc_time}}</td>
                                        <td>{{i.dec_time}}</td>
                                        <td>{{i.date_uploaded}}</td>
                                        <td><a class="btn-link" href="{% url 'download' i.id %}">
                                            <button type="button" class="btn btn-primary">Download</button></a>
                                        </td>
<!--                                        <td><button type="button" id="{{i.filename}}" class="btn btn-primary">View</button></td>-->
                                        <td><a class="btn-link" href="{% url 'delete' i.id %}">
                                            <button type="button" class="btn btn-danger">Delete</button></a>
                                        </td>
<!--                                        <td><button type="button" id="{{i.id}}" class="btn btn-danger">Delete</button></td>-->
									</tr>
									{% endfor %}
                                      </tbody>
                                    </table>
                                    {% else %}
                                        <div class="filter_data">
                                            <h3 id="error">Oops, You Don't Have Any Files On Cloud.</h3>
                                        </div>
                                    {% endif %}

                                      <div class="col-md-12 text-center">
                                            <ul class="pagination pagination-lg pager" id="myPager"></ul>
                                      </div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- End banner Area -->
    {% endblock %}